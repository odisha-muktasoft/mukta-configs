{
  "unemployedWageSeekers": {
    "chartName": "DSS_MUKTA_UNEMPLOYED_WAGE_SEEKERS",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "individual-index-v1",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Individuals\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.isDeleted\": true\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Individuals Count\": {\n          \"terms\": {\n            \"field\": \"Data.id.keyword\",\n            \"size\": 100000\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Muster\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Unique Individuals\": {\n          \"terms\": {\n            \"field\": \"Data.individualEntries.individualId.keyword\",\n            \"size\": 1000000\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "compareTwoIndices" :true,
    "aggregationPaths": [
      "Individuals Count","Unique Individuals"
    ],
    "insight": {
    },
    "_comment": "Unemployed Wage seekers"
  },
  "musterRollsByStatus": {
    "chartName": "DSS_MUKTA_MUSTER_ROLLS_BY_STATUS",
    "queries": [
      {
        "module": "MUSTER-ROLL-SERVICES",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Muster rolls created\": {\n          \"value_count\": {\n            \"field\": \"Data.auditDetails.createdTime\"\n          }\n        },\n        \"DSS_MUSTER_APPROVED\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.musterRollStatus.keyword\": [\"APPROVED\",\"BILLCREATED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.musterRollStatus.keyword\"\n              }\n            }\n          }\n        },\n        \"DSS_MUSTER_REJECTED\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.musterRollStatus.keyword\": [\"REJECTED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.musterRollStatus.keyword\"\n              }\n            }\n          }\n        },\n        \"DSS_MUSTER_YET_TO_APPROVE\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.musterRollStatus.keyword\": [\"PENDINGFORAPPROVAL\",\"PENDINGFORCORRECTION\",\"PENDINGFORVERIFICATION\",\"PENDING_FOR_APPROVAL\",\"SUBMITTED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.musterRollStatus.keyword\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Muster rolls created","DSS_MUSTER_APPROVED","DSS_MUSTER_YET_TO_APPROVE","DSS_MUSTER_REJECTED"
    ],
    "insight": {
    },
    "_comment": "Muster Rolls by status"
  },
  "billsCountByType": {
    "chartName": "DSS_MUKTA_BILLS_COUNT_BY_TYPE",
    "queries": [
      {
        "module": "EXPENSE",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "expense-bill-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"By Bill Type\": {\n          \"terms\": {\n            \"field\": \"Data.businessService.keyword\"\n          },\n          \"aggs\": {\n            \"Count\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "By Bill Type"
    ],
    "insight": {
    },
    "_comment": "Bills By Their Number"
  },
  "billsByBillAmountType": {
    "chartName": "DSS_MUKTA_BILLS_BY_BILL_AMOUNT_TYPE",
    "queries": [
      {
        "module": "EXPENSE",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "expense-bill-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Bill Amount By Bill Type\": {\n          \"terms\": {\n            \"field\": \"Data.businessService.keyword\"\n          },\n          \"aggs\": {\n            \"Sum\": {\n              \"sum\": {\n                \"field\": \"Data.totalAmount\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "amount",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Bill Amount By Bill Type"
    ],
    "insight": {
    },
    "_comment": "Bills By Their Amount"
  },
  "projectsByProjectNumberType": {
    "chartName": "DSS_MUKTA_PROJECTS_BY_PROJECT_TYPE",
    "queries": [
      {
        "module": "PROJECT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "project-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Projects By Project Type\": {\n          \"terms\": {\n            \"field\": \"Data.projectType.keyword\"\n          },\n          \"aggs\": {\n            \"Count\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Projects By Project Type"
    ],
    "insight": {
    },
    "_comment": "Count of Projects by their Project Type"
  },
  "projectsByProjectAmountType": {
    "chartName": "DSS_MUKTA_PROJECTS_BY_PROJECT_TYPE",
    "queries": [
      {
        "module": "PROJECT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "project-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.additionalDetails.estimatedCostInRs.keyword\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Projects By Project Type\": {\n          \"terms\": {\n            \"field\": \"Data.projectType.keyword\"\n          },\n          \"aggs\": {\n            \"Sum\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"def estCost=doc['Data.additionalDetails.estimatedCostInRs.keyword'].value;estCost!=null&&estCost!=''?Double.parseDouble(estCost):0.0\"\n                },\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "amount",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Projects By Project Type"
    ],
    "insight": {
    },
    "_comment": "Estimated amount of Projects by their Project Type"
  },
  "projectsByStatusHorizontal":{
    "chartName": "DSS_MUKTA_PROJECTS_BY_STATUS_HORIZONTAL",
    "queries": [
      {
        "module": "PROJECT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "project-index",
        "aggrQuery":"{\n  \"size\": 10000,\n  \"aggs\": {\n    \"NAME\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"DSS_TOTALPROJECT\": {\n          \"cardinality\": {\n            \"field\": \"Data.projectNumber.keyword\"\n          }\n        },\n        \"DSS_APPROVED_PROJECT\": {\n          \"cardinality\": {\n            \"field\": \"Data.projectNumber.keyword\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "DSS_TOTALPROJECT","DSS_APPROVED_PROJECT"
    ],
    "insight": {
    },
    "_comment": "Count of Created Projects"
  },
  "estimatesByStatusHorizontal":{
    "chartName": "DSS_MUKTA_ESTIMATES_BY_STATUS_HORIZONTAL",
    "queries": [
      {
        "module": "ESTIMATE",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "estimate-inbox-v3",
        "aggrQuery":"{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"DSS_CREATED_ESTIMATES\": {\n          \"value_count\": {\n            \"field\": \"Data.auditDetails.createdTime\"\n          }\n        },\n        \"DSS_ESTIMATES_APPROVED\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.wfStatus.keyword\": [\"APPROVED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        },\n        \"DSS_ESTIMATES_YET_TO_APPROVE\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.wfStatus.keyword\": [\"PENDINGFORVERIFICATION\",\"PENDINGFORTECHNICALSANCTION\",\"PENDINGFORAPPROVAL\",\"PENDINGFORCORRECTION\",\"RE-SUBMITTED\",\"SUBMITTED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        },\n        \"DSS_ESTIMATES_REJECTED\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.wfStatus.keyword\": [\"REJECTED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "DSS_CREATED_ESTIMATES","DSS_ESTIMATES_APPROVED","DSS_ESTIMATES_YET_TO_APPROVE","DSS_ESTIMATES_REJECTED"
    ],
    "insight": {
    },
    "_comment": "Estimates by Statuses"
  },
  "contractsByStatusHorizontal":{
    "chartName": "DSS_MUKTA_CONTRACTS_BY_STATUS_HORIZONTAL",
    "queries": [
      {
        "module": "CONTRACT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "contract-inbox",
        "aggrQuery":"{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"DSS_CONTRACTS_CREATED\": {\n          \"value_count\": {\n            \"field\": \"Data.auditDetails.createdTime\"\n          }\n        },\n        \"DSS_CONTRACTS_INPROGRESS\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.contractStatus.keyword\": [\"ACCEPTED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        },\n        \"DSS_CONTRACTS_YET_TO_APPROVE\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.contractStatus.keyword\": [\"PENDING_FOR_VERIFICATION\",\"PENDING_FOR_APPROVAL\",\"PENDING_FOR_CORRECTION\",\"PENDING_FOR_REASSIGNMENT\",\"PENDING_FOR_REVERIFICATION\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        },\n        \"DSS_CONTRACTS_REJECTED\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.contractStatus.keyword\": [\"REJECTED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        },\n        \"DSS_CONTRACTS_YET_TO_ACCEPT\": {\n          \"filter\": {\n            \"bool\": {\n              \"must\": [\n                {\n                  \"terms\": {\n                    \"Data.contractStatus.keyword\": [\"PENDING_FOR_ACCEPTANCE\",\"APPROVED\"]\n                  }\n                }\n              ]\n            }\n          },\n          \"aggs\": {\n            \"NAME\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"

      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "DSS_CONTRACTS_CREATED","DSS_CONTRACTS_INPROGRESS","DSS_CONTRACTS_YET_TO_APPROVE","DSS_CONTRACTS_REJECTED","DSS_CONTRACTS_YET_TO_ACCEPT"
    ],
    "insight": {
    },
    "_comment": "Contracts by Statuses"
  },
  "workOrdersNotIssued": {
    "chartName" : "DSS_MUKTA_WORK_ORDERS_NOT_ISSUED",
    "queries": [
      {
        "module": "PROJECTS",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "project-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Projects\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.projectNumber.keyword\": \"\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.isDeleted\": true\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Projects\": {\n          \"terms\": {\n            \"field\": \"Data.projectNumber.keyword\",\n            \"size\": 100000\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "CONTRACT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "",
        "indexName": "contract-inbox",
        "aggrQuery":"{\n  \"aggs\": {\n    \"Total Work Orders\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.additionalDetails.projectId.keyword\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Work Order\": {\n          \"terms\": {\n            \"field\": \"Data.additionalDetails.projectId.keyword\",\n            \"size\": 1000000\n          }\n        }\n      }\n    }\n  }\n}\n"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "compareTwoIndices": true,
    "aggregationPaths": [
      "Projects","Work Order"
    ],
    "insight": {
    },
    "_comment": "Work orders not issued"
  },
  "totalPayments": {
    "chartName": "DSS_MUKTA_TOTAL_PAYMENTS",
    "queries": [
      {
        "module": "EXPENSE",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "expense-bill-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"Data.currentProcessInstance.state.state.keyword\": \"APPROVED\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Wages Bills amount\": {\n          \"date_histogram\": {\n            \"field\": \"Data.auditDetails.createdTime\",\n            \"interval\": \"month\"\n          },\n          \"aggs\": {\n            \"Wages paid amount\": {\n              \"filter\": {\n                \"bool\": {\n                  \"must\": [\n                    {\n                      \"term\": {\n                        \"Data.businessService.keyword\": \"EXPENSE.WAGES\"\n                      }\n                    },\n                    {\n                      \"terms\": {\n                        \"Data.paymentStatus.keyword\": [\n                          \"PARTIAL\",\n                          \"SUCCESSFUL\"\n                        ]\n                      }\n                    }\n                  ]\n                }\n              },\n              \"aggs\": {\n                \"Paid Amount\": {\n                  \"sum\": {\n                    \"field\": \"Data.totalPaidAmount\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "valueType": "amount",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Wages Bills amount"
    ],
    "isCumulative": false,
    "interval": "month",
    "overrideRequestInterval": true,
    "insight": {
    },
    "_comment": "Total Bill Payment Amount"
  },
  "totalAttendance": {
    "chartName": "DSS_MUKTA_TOTAL_LABOUR_ATTENDANCE",
    "queries": [
      {
        "module": "MUSTER-ROLL-SERVICES",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.musterRollStatus.keyword\": [\n                  \"REJECTED\"\n                ]\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Person Days\": {\n          \"date_histogram\": {\n            \"field\": \"Data.auditDetails.createdTime\",\n            \"interval\": \"month\"\n          },\n          \"aggs\": {\n            \"TotalAttendanceSum\": {\n              \"sum\": {\n                \"field\": \"Data.individualEntries.actualTotalAttendance\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Person Days"
    ],
    "isCumulative": false,
    "interval": "month",
    "overrideRequestInterval": true,
    "insight": {
    },
    "_comment": "Total Labour Attendance"
  },
  "musterRollNotCreated": {
    "chartName" : "DSS_MUKTA_MUSTER_ROLL_NOT_CREATED",
    "queries": [
      {
        "module": "CONTRACT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "contract-inbox",
        "aggrQuery":"{\n  \"aggs\": {\n    \"NAME\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Contacts by contract number\": {\n          \"terms\": {\n            \"field\": \"Data.contractNumber.keyword\",\n            \"size\": 100000\n          },\n          \"aggs\": {\n            \"completion period weeks\": {\n              \"sum\": {\n                \"script\": {\n                  \"source\": \"Math.ceil((double) doc['Data.completionPeriod'].value / 7)\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}/ 7)\"\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "MUSTER",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Muster rolls\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.status.keyword\": \"\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Muster rolls by contractId\": {\n          \"terms\": {\n            \"field\": \"Data.additionalDetails.contractId.keyword\",\n            \"size\": 100000\n          },\n          \"aggs\": {\n            \"Muster rolls count\": {\n              \"value_count\": {\n                \"field\": \"Data.id.keyword\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "compareValueOfTwoIndices": true,
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Contacts by contract number","Muster rolls by contractId"
    ],
    "insight": {
    },
    "_comment": "Muster rolls not created"
  },
  "pendingBillsAmount": {
    "chartName" : "DSS_MUKTA_PENDING_BILLS",
    "queries": [
      {
        "module": "EXPENSE",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "expense-bill-index",
        "aggrQuery":"{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.status.keyword\": [\n                  \"INACTIVE\"\n                ]\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.currentProcessInstance.state.state.keyword\": [\n                  \"APPROVED\",\n                  \"REJECTED\",\n                  \"PENDING_FOR_CORRECTION\"\n                ]\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"Data.businessService.keyword\": \"EXPENSE.PURCHASE\"\n              }\n            },\n            {\n              \"exists\":{\n                \"field\": \"Data.currentProcessInstance.state.state.keyword\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"PendingBillsAmount\": {\n          \"sum\": {\n            \"field\": \"Data.totalAmount\"\n          }\n        },\n        \"Count\": {\n          \"value_count\": {\n            \"field\": \"Data.tenantId.keyword\"\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "metricCount" : true,
    "valueType": "amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "PendingBillsAmount"
    ],
    "insight": {
    },
    "_comment": "Pending Bills"
  },
  "ulbWiseLeaderboard":{
    "chartName": "DSS_MUKTA_ULB_WISE_LEADERBOARD",
    "queries":[
      {
        "module": "INDIVIDUAL",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "individual-index-v1",
        "aggrQuery":"{\n  \"aggs\": {\n    \"Total Individuals\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.isDeleted\": true\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Individual by Tenant\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\",\n            \"size\": 1000\n          },\n          \"aggs\": {\n            \"Individuals Count\": {\n              \"terms\": {\n                \"field\": \"Data.id.keyword\",\n                \"size\": 100000\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "MUSTER",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "",
        "indexName": "muster-inbox",
        "aggrQuery":"{\n  \"aggs\": {\n    \"Total Muster\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Individual by tenant in muster\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\",\n            \"size\": 1000\n          },\n          \"aggs\": {\n            \"Unique Individuals\": {\n              \"terms\": {\n                \"field\": \"Data.individualEntries.individualId.keyword\",\n                \"size\": 1000000\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "EXPENSE",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "expense-bill-index",
        "aggrQuery":"{\n  \"aggs\": {\n    \"AGGR\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.status.keyword\": [\n                  \"INACTIVE\"\n                ]\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.currentProcessInstance.state.state.keyword\": [\n                  \"APPROVED\",\n                  \"REJECTED\",\n                  \"PENDING_FOR_CORRECTION\"\n                ]\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"Data.businessService.keyword\": \"EXPENSE.PURCHASE\"\n              }\n            },\n            {\n              \"exists\": {\n                \"field\": \"Data.currentProcessInstance.state.state.keyword\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Pending Bills\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\"\n          },\n          \"aggs\": {\n            \"Pending Bills Amount\": {\n              \"sum\": {\n                \"field\": \"Data.totalAmount\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "PROJECTS",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "project-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Total Projects\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.projectNumber.keyword\": \"\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.isDeleted\": true\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Projects\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\",\n            \"size\": 10000\n          },\n          \"aggs\": {\n            \"Projects count\": {\n              \"terms\": {\n                \"field\": \"Data.projectNumber.keyword\",\n                \"size\": 1000000\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "CONTRACT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "",
        "indexName": "contract-inbox",
        "aggrQuery":"{\n  \"aggs\": {\n    \"NAME\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Distinct Work Orders\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\",\n            \"size\": 10000\n          },\n          \"aggs\": {\n            \"Work Orders\": {\n              \"terms\": {\n                \"field\": \"Data.additionalDetails.projectId.keyword\",\n                \"size\": 1000000\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "CONTRACT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.auditDetails.createdTime",
        "indexName": "contract-inbox",
        "aggrQuery":"{\n  \"aggs\": {\n    \"NAME\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"contracts by tenantId\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\",\n            \"size\": 10000\n          },\n          \"aggs\": {\n            \"contracts by contractNumber\": {\n              \"terms\": {\n                \"field\": \"Data.contractNumber.keyword\",\n                \"size\": 100000\n              },\n              \"aggs\": {\n                \"completion period weeks\": {\n                  \"sum\": {\n                    \"script\": {\n                      \"source\": \"Math.ceil((double) doc['Data.completionPeriod'].value / 7)\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "MUSTER",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Muster rolls\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"exists\": {\n                \"field\": \"Data.additionalDetails.contractId\"\n              }\n            }\n          ],\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.status.keyword\": \"INACTIVE\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"muster rolls by tenentId\": {\n          \"terms\": {\n            \"field\": \"Data.tenantId.keyword\",\n            \"size\": 10000\n          },\n          \"aggs\": {\n            \"muster rolls by contractId\": {\n              \"terms\": {\n                \"field\": \"Data.additionalDetails.contractId.keyword\",\n                \"size\": 10000\n              },\n              \"aggs\": {\n                \"muster rolls count\": {\n                  \"value_count\": {\n                    \"field\": \"Data.id.keyword\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "ctable",
    "valueType": "number",

    "drillChart": "",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "ULB",
    "aggregationPaths": ["Individuals Count","Unique Individuals","Pending Bills Amount","Projects count","Work Orders","contracts by contractNumber","muster rolls by contractId"],
    "excludedColumns": ["Individuals Count","Unique Individuals","Muster Count","Pending Bills Amount","Projects count","Work Orders","contracts by contractNumber","muster rolls by contractId"],
    "computedFields": [
      {
        "postAggregationTheory" : "",
        "actionName": "CompareComputedField",
        "fields" : ["Individuals Count","Unique Individuals"],
        "newField" : "Unemployed Wage seekers",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "compareAdditiveComputedField",
        "fields" : ["Pending Bills Amount"],
        "newField" : "Pending Bills",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "CompareComputedField",
        "fields" : ["Projects count","Work Orders"],
        "newField" : "Work orders not issued",
        "_comments": ""
      },
      {
        "postAggregationTheory" : "",
        "actionName": "CompareValueComputedField",
        "fields" : ["contracts by contractNumber","muster rolls by contractId"],
        "newField" : "Muster rolls not created",
        "_comments": ""
      }
    ],
    "insight": {
    },
    "hideInsights": true,
    "hideHeaderDenomination": true,
    "_comment": " "
  },
  "estimatesSlaBreached": {
    "chartName": "DSS_MUKTA_ESTIMATE_SLA_BREACHED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "estimate-inbox-v3",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Estimate SLA\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.status.keyword\": [\n                  \"INACTIVE\"\n                ]\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.currentProcessInstance.state.state.keyword\": [\n                  \"APPROVED\",\n                  \"REJECTED\",\n                  \"PENDINGFORCORRECTION\"\n                ]\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"exists\":{\n                \"field\": \"Data.currentProcessInstance.state.state.keyword\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"SLA Breached\": {\n          \"filter\": {\n            \"script\": {\n              \"script\": {\n                \"source\": \"new Date().getTime() > doc['Data.auditDetails.lastModifiedTime'].value + doc['Data.currentProcessInstance.state.sla'].value\"\n              }\n            }\n          },\n          \"aggs\": {\n            \"Estimate SLA Breached\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Estimate SLA Breached"
    ],
    "insight": {
    },
    "_comment": "Estimate SLA Breached"
  },
  "contractSlaBreached": {
    "chartName": "DSS_MUKTA_CONTRACT_SLA_BREACHED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "contract-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Contract SLA\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.status.keyword\": [\n                  \"INACTIVE\"\n                ]\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.currentProcessInstance.state.state.keyword\": [\n                  \"ACCEPTED\",\n                  \"REJECTED\",\n                  \"PENDING_FOR_ACCEPTANCE\",\n                  \"PENDING_FOR_CORRECTION\",\n                  \"PENDING_FOR_REASSIGNMENT\",\n                  \"PENDING_FOR_REVERIFICATION\"\n                ]\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"exists\":{\n                \"field\": \"Data.currentProcessInstance.state.state.keyword\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"SLA Breached\": {\n          \"filter\": {\n            \"script\": {\n              \"script\": {\n                \"source\": \"new Date().getTime() > doc['Data.auditDetails.lastModifiedTime'].value + doc['Data.currentProcessInstance.state.sla'].value\"\n              }\n            }\n          },\n          \"aggs\": {\n            \"Contract SLA Breached\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Contract SLA Breached"
    ],
    "insight": {
    },
    "_comment": "Contract SLA Breached"
  },
  "musterSlaBreached": {
    "chartName": "DSS_MUKTA_MUSTER_SLA_BREACHED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Muster SLA\": {\n      \"filter\": {\n        \"bool\": {\n           \"must_not\": [\n             {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.status.keyword\": [\n                  \"INACTIVE\"\n                ]\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.currentProcessInstance.state.state.keyword\": [\n                  \"APPROVED\",\n                  \"REJECTED\",\n                  \"BILLCREATED\"\n                ]\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"exists\":{\n                \"field\": \"Data.currentProcessInstance.state.state.keyword\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"SLA Breached\": {\n          \"filter\": {\n            \"script\": {\n              \"script\": {\n                \"source\": \"new Date().getTime() > doc['Data.auditDetails.lastModifiedTime'].value + doc['Data.currentProcessInstance.state.sla'].value\"\n              }\n            }\n          },\n          \"aggs\": {\n            \"Muster SLA Breached\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Muster SLA Breached"
    ],
    "insight": {
    },
    "_comment": "Muster SLA Breached"
  },
  "billsSlaBreached": {
    "chartName": "DSS_MUKTA_BILLS_SLA_BREACHED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "expense-bill-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Bill SLA\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.currentProcessInstance.state.state.keyword\": [\n                  \"APPROVED\",\n                  \"REJECTED\",\n                  \"PENDING_FOR_CORRECTION\"\n                ]\n              }\n            },\n            {\n              \"terms\": {\n                \"Data.status.keyword\": [\n                  \"INACTIVE\"\n                ]\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"Data.businessService.keyword\": \"EXPENSE.PURCHASE\"\n              }\n            },\n            {\n              \"exists\":{\n                \"field\": \"Data.currentProcessInstance.state.state.keyword\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"SLA Breached\": {\n          \"filter\": {\n            \"script\": {\n              \"script\": {\n                \"source\": \"new Date().getTime() > doc['Data.auditDetails.lastModifiedTime'].value + doc['Data.currentProcessInstance.state.sla'].value\"\n              }\n            }\n          },\n          \"aggs\": {\n            \"Bill SLA Breached\": {\n              \"value_count\": {\n                \"field\": \"Data.auditDetails.createdTime\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Bill SLA Breached"
    ],
    "insight": {
    },
    "_comment": "Bill SLA Breached"
  },
  "moneyTransferred": {
    "chartName": "DSS_MUKTA_MONEY_TRANSFERRED",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.auditDetails.createdTime",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "expense-bill-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Approved bills\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"Data.currentProcessInstance.state.state.keyword\": \"APPROVED\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Purchase Bills amount\": {\n          \"date_histogram\": {\n            \"field\": \"Data.auditDetails.createdTime\",\n            \"interval\": \"month\"\n          },\n          \"aggs\": {\n            \"Purchase paid amount\": {\n              \"filter\": {\n                \"bool\": {\n                  \"must\": [\n                    {\n                      \"term\": {\n                        \"Data.businessService.keyword\": \"EXPENSE.PURCHASE\"\n                      }\n                    },\n                    {\n                      \"terms\": {\n                        \"Data.paymentStatus.keyword\": [\n                          \"PARTIAL\",\n                          \"SUCCESSFUL\"\n                        ]\n                      }\n                    }\n                  ]\n                }\n              },\n              \"aggs\": {\n                \"Paid Amount\": {\n                  \"sum\": {\n                    \"field\": \"Data.totalPaidAmount\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"Wages Bills amount\": {\n          \"date_histogram\": {\n            \"field\": \"Data.auditDetails.createdTime\",\n            \"interval\": \"month\"\n          },\n          \"aggs\": {\n            \"Wages paid amount\": {\n              \"filter\": {\n                \"bool\": {\n                  \"must\": [\n                    {\n                      \"term\": {\n                        \"Data.businessService.keyword\": \"EXPENSE.WAGES\"\n                      }\n                    },\n                    {\n                      \"terms\": {\n                        \"Data.paymentStatus.keyword\": [\n                          \"PARTIAL\",\n                          \"SUCCESSFUL\"\n                        ]\n                      }\n                    }\n                  ]\n                }\n              },\n              \"aggs\": {\n                \"Paid Amount\": {\n                  \"sum\": {\n                    \"field\": \"Data.totalPaidAmount\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"Supervision Bills amount\": {\n          \"date_histogram\": {\n            \"field\": \"Data.auditDetails.createdTime\",\n            \"interval\": \"month\"\n          },\n          \"aggs\": {\n            \"Supervision paid amount\": {\n              \"filter\": {\n                \"bool\": {\n                  \"must\": [\n                    {\n                      \"term\": {\n                        \"Data.businessService.keyword\": \"EXPENSE.SUPERVISION\"\n                      }\n                    },\n                    {\n                      \"terms\": {\n                        \"Data.paymentStatus.keyword\": [\n                          \"PARTIAL\",\n                          \"SUCCESSFUL\"\n                        ]\n                      }\n                    }\n                  ]\n                }\n              },\n              \"aggs\": {\n                \"Paid Amount\": {\n                  \"sum\": {\n                    \"field\": \"Data.totalPaidAmount\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "line",
    "valueType": "amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "isCumulative": false,
    "interval": "month",
    "overrideRequestInterval": true,
    "aggregationPaths": [
      "Purchase Bills amount","Supervision Bills amount","Wages Bills amount"
    ],
    "insight": {
    },
    "_comment": "Money transferred"
  },
  "paymentsByGender":{
    "chartName": "DSS_PAYMENT_BY_GENDER",
    "queries":[
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "expense-bill-index",
        "aggrQuery": "{\n  \"aggs\": {\n    \"Approved wage bills\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"Data.currentProcessInstance.state.state.keyword\": \"APPROVED\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.businessService.keyword\": \"EXPENSE.WAGES\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Payments by Gender\": {\n          \"terms\": {\n            \"field\": \"Data.billDetails.payee.additionalDetails.gender.keyword\",\n            \"size\": 10\n          },\n          \"aggs\": {\n            \"payments\": {\n              \"avg\": {\n                \"field\": \"Data.billDetails.totalPaidAmount\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      },
      {
        "module": "COMMON",
        "dateRefField": "",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "muster-inbox",
        "aggrQuery": "{\n  \"aggs\": {\n    \"NAME\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od.testing\"\n              }\n            },\n            {\n              \"term\": {\n                \"Data.tenantId\": \"od\"\n              }\n            }\n          ]\n        }\n      },\n      \"aggs\": {\n        \"Muster roll by gender\": {\n          \"terms\": {\n            \"field\": \"Data.individualEntries.additionalDetails.gender.keyword\",\n            \"size\": 10\n          },\n          \"aggs\": {\n            \"Muster roll by Id\": {\n              \"terms\": {\n                \"field\": \"Data.individualEntries.individualId.keyword\",\n                \"size\": 100000\n              },\n              \"aggs\": {\n                \"sum of approved days\": {\n                  \"avg\": {\n                    \"field\": \"Data.individualEntries.actualTotalAttendance\"\n                  }\n                }\n              }\n            },\n            \"Avg attendance\": {\n              \"avg_bucket\": {\n                \"buckets_path\": \"Muster roll by Id>sum of approved days\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
      }
    ],
    "chartType": "xtable",
    "valueType": "number",
    "drillChart": "",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Gender",
    "aggregationPaths": ["Avg attendance","payments"],
    "excludedColumns": [],
    "computedFields": [],
    "insight": {
    },
    "hideInsights": true,
    "hideHeaderDenomination": true,
    "_comment": " "
  }
}