{
  "key": "work-order_ip",
  "documentType":"WORK-ORDER",
  "DataConfigs": {
    "moduleName": "rainmaker-common",
    "version": "1.0.0",
    "baseKeyPath": "$.contracts.*",
    "entityIdPath":"$.id",
    "isCommonTableBorderRequired": true,
    "mappings": [
      {
        "topic": "common-pdf-generation-3",
        "mappings": [
          {
            "direct":
            [
              {
                "variable": "sir",
                "value": {
                  "path": "WORK_ORDER_SIR"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "to",
                "value": {
                  "path": "WORK_ORDER_TO"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "subject",
                "value": {
                  "path": "WORK_ORDER_SUBJECT"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "executive_officer",
                "value": {
                  "path": "COMMON_MASTERS_DEPARTMENT_DEPT_42"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "yours_faithfully",
                "value": {
                  "path": "WORK_ORDER_YOURS_FAITHFULLY"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "terms_and_conditions",
                "value": {
                  "path": "WORK_ORDER_TERMS_AND_CONDITIONS"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },

              {
                "variable": "execution_of_work",
                "value": {
                  "path": "WORK_ORDER_EXECUTION_OF_WORK"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },

              {
                "variable": "officer_incharge",
                "value": {
                  "path": "$.additionalDetails.officerInChargeName.name"
                }
              },
              {
                "variable": "rupee_symbol",
                "value": {
                  "path": "COMMON_MUSTER_RUPEE"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "designation",
                "value": {
                  "path": "$.additionalDetails.officerInChargeDesgn"
                }

              },
              {
                "variable": "cbo",
                "value": {
                  "path": "$.nameOfCbo"
                }
              },
              {
                "variable": "name_of_issued_to",
                "value": {
                  "path": "$.pdfNameOfIssuedTo"
                }
              },
              {
                "variable": "implementation_agency",
                "value": {
                  "path": "$.executingAuthority"
                },
                "localisation": {
                  "required": true,
                  "prefix": "COMMON_MASTERS",
                  "module": "rainmaker-common-masters"
                }
              },
              {
                "variable": "work_order_acceptance_days",
                "value": {
                  "path": "$.pdfWorkOrdAcceptanceDays"
                }
              },
              {
                "variable": "accepted_date",
                "value": {
                  "path": "$.pdfAcceptedDate"
                },
                "type": "date"
              },
              {
                "variable": "sla_date",
                "value": {
                  "path": "$.pdfSlaDate"
                },
                "type": "date"
              },
              {
                "variable": "completion_period",
                "value": {
                  "path": "$.completionPeriod"
                }
              },
              {
                "variable": "no_days_to_complete",
                "value": {
                  "path": "$.completionPeriod"
                }
              },


              {
                "variable": "sla_days",
                "value": {
                  "path": "$.completionPeriod"
                }
              },
              {
                "variable": "approval_date",
                "value": {
                  "path": "$.startDate"
                },
                "type": "function",
                "format": "var a=[]; date=arguments[0].toString();{if(date==null || date){a.push({'approvalDate':new Date().toLocaleDateString()});}} return a;"
              },

              {
                "variable": "ulb_name",
                "value": {
                  "path": "$.tenantId"
                },
                "localisation": {
                  "required": true,
                  "prefix": "TENANT_TENANTS",
                  "module": "rainmaker-od"
                }
              },
              {
                "variable": "ulb_name_and_address",
                "value": {
                  "path": "$.tenantId"
                },
                "localisation": {
                  "required": true,
                  "prefix": "TENANT_TENANTS",
                  "module": "rainmaker-od"
                }
              },
              {
                "variable": "contractNumber",
                "value": {
                  "path": "$.contractNumber"
                }
              },
              {
                "variable": "totalContractedAmount",
                "value": {
                  "path": "$.totalContractedAmount"
                }
              },
              {
                "variable": "address1",
                "value": {
                  "path": "$.street"
                }
              },
              {
                "variable": "address2",
                "value": {
                  "path": "$.doorNo"
                }
              },
              {
                "variable": "address3",
                "value": {
                  "path": "$.city"
                }
              },
              {
                "variable": "cboAddress",
                "value": {
                  "path": "$.pdfCboAddress"
                }
              },
              {
                "variable": "work_description",
                "value": {
                  "path": "$.additionalDetails.projectDesc"
                }
              },


              {
                "variable": "name_of_the_contact_person",
                "value": {
                  "path": "$.contactName"
                }
              },
              {
                "variable": "projectName",
                "value": {
                  "path": "$.additionalDetails.projectName"
                }
              },
              {
                "variable": "issuedDate",
                "value": {
                  "path": "$.issueDate"
                },
                "type": "date"
              },

              {
                "variable": "termsAndConditions",
                "value": {
                  "path": "$.additionalDetails.termsAndConditions"
                },
                "type":"function",
                "format":"var a=[];var conditionNo=0; termsAndConditions=arguments[0]; for(var i=0;i<termsAndConditions.length;i++){if(termsAndConditions[i]!=null)conditionNo=conditionNo+1;var b={'description':termsAndConditions[i]!=null?termsAndConditions[i].description:'','conditionNo':termsAndConditions[i]!=null?conditionNo+'.':''}; a.push(b);} return a;"
              },
              {
                "variable": "ServiceName",
                "value": {
                  "path": "ACTION_TEST_WORK_ORDER"
                },
                "type": "label",
                "localisation":{
                  "required":true,
                  "prefix": null,
                  "module":"rainmaker-common"
                }
              },
              {
                "variable": "SchemeName",
                "value": {
                  "path": "MUKHYA_MANTRI_KARMA_TATPARA_ABHIYAN"
                },
                "type": "label",
                "localisation":{
                  "required":true,
                  "prefix": null,
                  "module":"rainmaker-common"
                }
              },
              {
                "variable": "FillerTextName",
                "value": {
                  "path": "TRANSFORMATION_OF_CITY"
                },
                "type": "label",
                "localisation":{
                  "required":true,
                  "prefix": null,
                  "module":"rainmaker-common"
                }
              },
              {
                "variable": "Municipal_Corporation",
                "value": {
                  "path": "ULBGRADE_MC1"
                },
                "type": "label",
                "localisation":{
                  "required":true,
                  "prefix": null,
                  "module":"rainmaker-common"
                }
              },
              {
                "variable": "pdf_header",
                "value": {
                  "path": "$.tenantId"
                },
                "localisation": {
                  "required": true,
                  "prefix": "TENANT_TENANTS",
                  "module": "rainmaker-od"
                }
              },
              {
                "variable": "minucipality",
                "value": {
                  "path": "MINUCIPALITY"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "WorkOderNumber",
                "value": {
                  "path": "WORKS_ORDER_NO"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "Salutation",
                "value": {
                  "path": "SALUTATION"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "PresidentDesignation",
                "value": {
                  "path": "PRESIDENTS_DESIGNATION"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "SecretaryDesignation",
                "value": {
                  "path": "SECRETARY_DESIGNATION"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "Date",
                "value": {
                  "path": "ES_COMMON_DATE"
                },
                "type": "label",
                "localisation": {
                  "required": true,
                  "prefix": null,
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "muktaaccountant",
                "value": {
                  "path": "$.accountantDetailsName"
                }
              },
              {
                "variable": "accountantdesignation",
                "value": {
                  "path": "$.accountantDetailsDesignation"
                },
                "localisation": {
                  "required": true,
                  "prefix": "COMMON_MASTERS_DESIGNATION",
                  "module": "rainmaker-common"
                }
              },
              {
                "variable": "contactnumber",
                "value": {
                  "path": "$.accountantDetailsNumber"
                }
              },
              {
                "variable": "officerincharge",
                "value": {
                  "path": "$.officerInChargeName"
                }
              },
              {
                "variable": "officerinchargedesignation",
                "value": {
                  "path": "$.additionalDetails.officerInChargeDesgn"
                }
              },
              {
                "variable": "officeinchargecontactnumber",
                "value": {
                  "path": "$.officerInChargeNumber"
                }
              },
              {
                "variable": "wardName",
                "value": {
                  "path": "$.orgWard"
                },
                "localisation": {
                  "required": true,
                  "prefix": "OD_WARD_ADMIN",
                  "module": "rainmaker-ward-locality"
                }
              },
              {
                "variable": "localityName",
                "value": {
                  "path": "$.orgLocality"
                },
                "localisation": {
                  "required": true,
                  "prefix": "OD_LOCALITY_ADMIN",
                  "module": "rainmaker-ward-locality"
                }
              },
              {
                "variable": "districtName",
                "value": {
                  "path": "$.orgDistrict"
                }
              },
              {
                "variable": "cityName",
                "value": {
                  "path": "$.city"
                }
              },

              {
                "variable": "termsAndConditionsList",
                "value": {
                  "path": "$.termsAndConditionList"
                }

              },
              {
                "variable": "financialYearPeriod",
                "value": {
                  "path": "$.financialYear"
                }

              }

            ]

          },
          {
            "externalAPI": [
              {
                "path": "http://egov-mdms-service:8080/egov-mdms-service/v1/_get",
                "queryParam": "moduleName=tenant&masterName=tenants&tenantId=od&filter=%5B?(@.code=='{$.tenantId}')%5D",
                "apiRequest": null,
                "responseMapping":[
                  {
                    "variable":"address",
                    "value":"$.MdmsRes.tenant.tenants[0].address"
                  },
                  {
                    "variable":"phoneNumber",
                    "value":"$.MdmsRes.tenant.tenants[0].contactNumber"
                  },
                  {
                    "variable":"website",
                    "value":"$.MdmsRes.tenant.tenants[0].domainUrl"
                  },
                  {
                    "variable":"email",
                    "value":"$.MdmsRes.tenant.tenants[0].emailId"
                  },
                  {
                    "variable": "logoImage",
                    "value":"$.MdmsRes.tenant.tenants[0].logoId",
                    "type":"image"
                  },
                  {
                    "variable": "logo-header",
                    "value":"$.MdmsRes.tenant.tenants[0].code",
                    "localisation":{
                      "required":true,
                      "module":"rainmaker-common"
                    }
                  },
                  {
                    "variable": "subdivision",
                    "value": "$.MdmsRes.tenant.tenants[0].city.ulbGrade",
                    "localisation": {
                      "required": true,
                      "prefix": "COMMON_SUBDIVISION",
                      "module": "rainmaker-common"
                    }
                  }
                  },
                  {
                    "variable": "cmImage",
                    "value":"$.MdmsRes.tenant.tenants[0].cmImageId",
                    "type":"image"
                  },
                  {
                    "variable": "tLogoImage",
                    "value":"$.MdmsRes.tenant.tenants[0].tLogoImageId",
                    "type":"image"
                  },
                  {
                    "variable": "schemImage",
                    "value":"$.MdmsRes.tenant.tenants[0].schemImageId",
                    "type":"image"
                  },
                  {
                    "variable": "sealImage",
                    "value":"$.MdmsRes.tenant.tenants[0].sealImageId",
                    "type":"image"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}
